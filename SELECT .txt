SELECT 
DDW.C2,I.HN,I.AN,I.DATEADMIT,I.DATEDISCH,DDW.DRU_CODE,D.NAME,DDW.QUANTITY,DUC.NAME AS USING,DTC.NAME AS TIMING
FROM IPDTRANS I 
  LEFT JOIN DATA_DRUG_WH DDW ON DDW.HN=I.HN AND DDW.AN=I.AN
  LEFT JOIN DRUGCODES D ON D.CODE=DDW.DRU_CODE
  LEFT JOIN DRUG_USING_CODES DUC ON DUC.USING_CODE = DDW.DRUG_USING_CODE
  LEFT JOIN DRUG_TIMING_CODES DTC ON DTC.TIMING_CODE = DDW.DRUG_TIMING_CODE
WHERE TO_CHAR(I.DATEDISCH,'ddmmyyyy') = TO_CHAR(SYSDATE,'ddmmyyyy') AND DDW.C2='AA' AND DDW.DRU_CODE IS NOT NULL
  ORDER BY I.HN